<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>학생 정보 객체 관리하기</title>
  </head>
  <body>
    <h1>학생 정보 객체 관리하기</h1>
    <script>
      // 1. 학생 객체 생성(name, age, scores:{math, english})
      const studentInfo = {
        name: "홍길동",
        age: 26,
        scores: { math: 85, english: 90, korean: 80 },
      };

      //   2. getProperty(obj, key)  함수로 동적 속성 접근
      function getProperty(obj, key) {
        console.log(obj);
        return obj[key];
      }

      getProperty(studentInfo, "name");

      // 3. scores 평균 계산 함수 작성
      const reducer = (a, b) => a + b;

      function getAverage(obj) {
        const values = Object.values(obj.scores);
        return values.reduce(reducer) / values.length;
      }

      console.log(
        `${studentInfo.name}님의 평균 점수: ${getAverage(studentInfo)}점`
      );

      // 4. 학생 객체 복사 후 원본과 독립적으로 수정 확인
      const copy2 = structuredClone(studentInfo);
      copy2.scores.math = 88;
      copy2.age = 27;

      //  부록: 원본, 복사데이터 변경되었는지 확인
      console.log("원본 데이터:", studentInfo);
      console.log("복사 데이터:", copy2);

      console.log(`${copy2.name}님의 평균 점수: ${getAverage(copy2)}점`);
    </script>
  </body>
</html>
